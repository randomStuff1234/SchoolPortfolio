<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Nate's Portfolio </title>
    <!-- Bootstrap Stuff-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">

</head>

<body class="bg-light">
    <!-- More Bootstrap Stuff
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

    <script src = "Canvas.js"></script>
    <script src= "Components.js"></script>
-->
    <script>/**
 * Represents the HTML Canvas that is displayed
 */
class Canvas {
    /**
     * Creates an instance of the canvas class
     * @constructor
     * @param {number} width The width of the game
     * @param {number} height The height of the game
     */
    constructor (width, height) {
        this.element = document.createElement("canvas")
        this.element.width = width
        this.element.height = height
        /**
         * The context for the canvas or something
         */
        this.context = this.element.getContext("2d")
        /**
         * List of all components drawn on this canvas
         * @type {[Component]}
         */
        this.components = []
        this.width = width
        this.height = height
    }
    /**
     * Adds a component to the list of this canvas' components
     * @param {Component} component
     */
    addComponent (component) {
        this.components.push(component)
    }
    /**
     * Adds an array of components to the list of this canvas' components
     * @param {[Component]} components
     */
    addComponents (components) {
        this.components = this.components.concat(components)
    }
    /**
     * Clears the canvas of everything
     */
    clear() {
        this.context.clearRect(0, 0, this.element.width, this.element.height);
    }
    /**
     * Draws the squares inside a game object's board
     * @param {Game} game a Game object you want to draw the squares of
     */
    redrawGame (game) {
        for (let column of game.board) {
            for (let square of column) {
                for (let item of square) {
                    item.toComponent(this).draw()
                }
            }
        }
    }
    /**
     * Updates the canvas by redrawing all shapes on it
     */
    redraw() {
        this.clear()
        for (let component of this.components) {
            component.draw();
        }
    }
    /**
     * Inserts the canvas into the page
     * @param {Node} refrenceNode 
     */
    start(refrenceNode) { 
        refrenceNode.parentNode.replaceChild(this.element, refrenceNode);
    }
}
</script>
    <script>/**
 * a component on the page
 */
class Component {
    /**
     * @param {any} canvas The canvas to draw this component on.
     * @param {number} x The x position of the component
     * @param {number} y The y position of the component
     * @param {any} color The color of the component
     */
    constructor (canvas, x, y, color) {
        this.canvas = canvas;
        this.ctx = canvas.context;
        this.x = x;
        this.y = y;
        /**
         * Color of the component. Can be formated as:
         * - "white", "black", "blue", etc.
         * - "rgb(255,255,255)"
         * - "rgba(255,255,255,255)"
         * - Probably some other ways but idk them
         * @type {String}
         */
        this.color = color;
    }
    /**
     * Filler function b/c of stuff with protocols or whatever
     */
    draw () {}
}
/**
 * @extends Component
 * creates a rectangular object
 */
class Rect extends Component{
    /**
     * Creates an isntance of the Rect class
     * @param {any} canvas The canvas to draw this rectangle in.
     * @param {number} width The width of the rectangle
     * @param {number} height The height of the rectangle
     * @param {number} x The x position of the center of the rectangle
     * @param {number} y The y position of the center of the rectangle
     * @param {any} color The color of the rectangle
     */
    constructor(canvas, width, height, x, y, color) {
        super (canvas, x, y, color);
        this.width = width
        this.height = height

    }
    /**
     * Draws the rectangle on the canvas
     */
    draw () {
        this.ctx.fillStyle = this.color;
        this.ctx.fillRect(this.x - this.width/2, this.y - this.height/2, this.width, this.height);
    }
}
class Button extends Rect {
    constructor (canvas, width, height, x, y, color, action) {
        super (canvas, width, height, x, y, color)
        this.action = action
    }
}
/**
 * @extends Rect
 * creates a Square Object
 */
class Square extends Rect {
    /**
     * Creates an isntance of the square class
     * @param {any} canvas The canvas to draw this square in.
     * @param {number} width The width of the square
     * @param {number} x The x position of the square
     * @param {number} y The y position of the square
     * @param {any} color The color of the square
     */
    constructor(canvas, width, x, y, color) {
        super (canvas, width, width, x, y, color);
    }
}
/**
 * creates a Loading Cicle Thing Object
 */
class LoadingCircle extends Component {
    /**
     * Creates an isntance of the loading thing class
     * @param {any} canvas The canvas to draw this loading thing in.
     * @param {number} width The width of the loading thing
     * @param {number} x The x position of the loading thing
     * @param {number} y The y position of the loading thing
     * @param {any} color The color of the square
     */
    constructor(canvas, width, x, y, color) {
        super (canvas, x, y, color);
        this.width = width
        this.subComponents = [];
        for (let i = 0; i < 6; i++) {
                this.subComponents.push(new Square(canvas, width/5, 0, 0, color));
        }
        this.t = 0;
    }
    draw () {
        for (let square of this.subComponents) {
            square.x = this.width/2 * Math.cos(this.t/10) + this.x;
            square.y = this.width/2 * Math.sin(this.t/10) + this.y;
            square.draw();
            this.t += 7;
        }
        this.t -= 41.75;
    }    
}
/**
 * Creates text
 */
class Text extends Component {
    /**
     * Creates a new instance of text
     * @param {Any} canvas The canvas to draw it on
     * @param {number} x The x coordinate of the center of the text
     * @param {number} y The x coordinate of the center of the text
     * @param {String} color The text's color
     * @param {String} font Font size and font of the text
     * @param {String} value What the text says
     */
    constructor (canvas, x, y, color, font, value) {
        super(canvas, x, y, color);
        this.font = font;
        this.value = value;

        let context = canvas.context
        context.font = font
        this.width = context.measureText(value).width;
        // Note that the height will break if the font size is 1 or 3 digits
        this.height =  font.slice(0,2);
    }
    draw () {
        this.ctx.font = this.font;
        this.ctx.fillStyle = this.color;
        this.ctx.fillText(this.value, this.x - this.width/2, this.y - this.height/2);
    }
}
/**
 * @extends Component
 * creates a line object
 */
class Line extends Component{
    /**
     * Creates an isntance of the Line class
     * @param {any} canvas The canvas to draw this line in.
     * @param {number} x The x position of one end of the line
     * @param {number} y The y position of one end of the line
     *  @param {number} x2 The x position of the other end of the line
     * @param {number} y2 The y position of the other end of the line
     * @param {number} thickness How thick the line is in pixels
     * @param {any} color The color of the line
     */
    constructor(canvas, x, y, x2, y2, thickness, color) {
        super (canvas, x, y, color);
        this.x2 = x2
        this.y2 = y2
        this.thickness = thickness

    }
    /**
     * Draws the line on the canvas
     */
    draw () {
        this.ctx.strokeStyle = this.color
        this.ctx.lineWidth = this.thickness
        this.ctx.beginPath()
        this.ctx.moveTo(this.x, this.y)
        this.ctx.lineTo(this.x2, this.y2)
        this.ctx.stroke()
        this.ctx.closePath()
    }
}
/**
 * @extends Component
 * creates a Square Object
 */
class Circle extends Component {
    /**
     * Creates an isntance of the circle class
     * @param {any} canvas The canvas to draw this circle in.
     * @param {number} width The width of the circle
     * @param {number} x The x position of the circle
     * @param {number} y The y position of the circle
     * @param {any} color The color of the circle
     */
    constructor(canvas, width, x, y, color) {
        super (canvas, x, y, color)
        this.width = width
    }
    draw () {
        this.ctx.fillStyle = this.color
        this.ctx.arc(this.x, this.y, this.width/2, 0, 2*Math.PI)
        this.ctx.fill()
        this.ctx.closePath()
    }
}
class Graph extends Rect {
    /**
     * Creates an isntance of the graph class
     * @param {any} canvas The canvas to draw this graph in.
     * @param {number} width The width of the graph
     * @param {number} height The height of the graph
     * @param {number} x The x position of the center of the graph
     * @param {number} y The y position of the center of the graph
     * @param {number} x2 Leftmost number on the x axis of the graph
     * @param {number} x3 Rightmost number on the x axis of the graph
     * @param {number} y2 Lowest number on the y axis of the graph
     * @param {number} y3 Highest number on the y axis of the graph
     * @param {string} bgColor The background color of the graph
     * @param {string} lColor The color of the lines on the graph
     * @param {any} equation Function that takes in 2 numbers and returns true or false
     */
    constructor(canvas, width, height, x, x2, x3, y, y2, y3, bgColor, lColor, equation) {
        super (canvas, width, height, x, y, bgColor)
        this.lColor = lColor
        this.x2 = x2
        this.y2 = y2
        this.x3 = x3
        this.y3 = y3
        this.background = new Rect (canvas, width, height, x, y, bgColor)
        this.points = []
        let x4 = x2
        for (let x5 = x; x5 < x + width; x5 ++) {
            let pointCol = []
            let y4 = y2
            for (let y5 = y; y5 < y + height; y5 ++) {
                if (equation(x4, y4)) {
                    pointCol.push(new Point(canvas, x5, y5, lColor, x4, y4))
                } else {
                    pointCol.push(new Point(canvas, x5, y5, bgColor, x4, y4))
                }
                y4 += (y3-y2)/height
            }
            x4 += (x3-x2)/width
            this.points.push(pointCol)
        }
    }
    draw () {
        this.background.draw()
        for (let pointCol of this.points) {
            for (let point of pointCol) {
                point.draw()
            }
        }
    }
}
class Point extends Square{
    /**
     * Creates a new instance of the point class
     * @param {any} canvas canvas to draw this point in
     * @param {number} x The x coordinate of the point within the canvas
     * @param {number} y The y coordinate of the point within the canvas
     * @param {number} color The color of the point
     * @param {number} x2 The x coord of the point within it's parent graph
     * @param {number} y2 The y coord of the point within it's parent graph
     */
    constructor(canvas, x, y, color, x2, y2) {
        super(canvas, 1, x, y, color)
        this.x2 = x2
        this.y2 = y2
    }
}
    </script>
    
    <!-- Navbar -->
    <nav class="navbar navbar-expand-xl bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand text-light ms-3 fs-4" href="#home">Nate's Portfilo</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span> 
            </button>
            <ul class="nav-item me-auto mb-lg-0">
                <a class="nav-link text-light" href="#about_me">About Me</a>
            </ul>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-light" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            My Work
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item text-secondary2" href="#">Papers</a></li>
                            <li><a class="dropdown-item text-secondary2" href="#">Internships</a></li>
                            <li><a class="dropdown-item text-secondary2" href="#">Other Stuff</a></li>
                        </ul>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-light bg-primary text-light" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
    
    <!-- Not the navbar -->
    
    <h1 class="display-4 fw-bold mx-auto text-center pt-4" id ="home"> Nate's Portfolio </h1>
    <canvas id="graphCanvas"> </canvas>
    <div class="px-4 py-3 mb-5 text-center">
        <p class="fs-2 fw-bolder mx-auto mb-2" id ="home"> My Mission Statement </p>
        <div class="col-lg-6 mx-auto">
            <p class="lead mb-1"> My life's missions are:
            </p>
            <p class="mb-4"> 1. To leave the world better then I left it by trying to make everyone I meet happier than they were before meeting them, making decisions that are moraly right, and striving to only support companies that support basic moral values, <br> 2. To further my own and other's knowledge of the universe by trying to learn, to listen to and to question everything.</p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                <button type="button" class="btn btn-primary btn-lg px-4 gap-3" id="about_me"> About Me </button>
                <button type="button" class="btn btn-outline-secondary btn-lg px-4"> My Work </button>
            </div>
        </div>
    </div>

    <div class="b-example-divider"></div>
    
        <div class="px-4 py-3 mb-5 text-center">
        <p class="fs-2 fw-bolder mx-auto mb-2" id ="home"> About Me </p>
        <div class="col-lg-6 mx-auto">
            <p class="lead mb-4"> lorem impsum dolor sit admit something idk foo bar  </p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                <button type="button" class="btn btn-primary btn-lg px-4 gap-3"> About Me </button>
                <button type="button" class="btn btn-outline-secondary btn-lg px-4"> My Work </button>
            </div>
        </div>
    </div>
    <script> 
        var canvas = new Canvas(window.innerWidth - 20, window.innerHeight - 20)
        canvas.start(document.getElementById("graphCanvas"))
        let graph = new Graph(canvas, canvas.width - 20, canvas.height, 10, -0, 2*Math.PI, 10, -Math.PI, Math.PI, "rgb(255, 255, 255)", "rgb(0,0,0)", (x, y) => {
            let x2 = 0
            for (i = 0; i < 10; i++) {
                x2 += Math.sin((10**i)*x)/(10**i)
            }
            return (Math.abs(y - Math.sin(x2)) < 0.1)
        })
        canvas.addComponent(graph)

        let interval = setInterval(() => {
            canvas.redraw()
        }, 0.001);
    </script>
</body>

</html>
